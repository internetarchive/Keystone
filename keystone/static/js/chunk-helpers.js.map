{"version":3,"file":"chunk-helpers.js","sources":["../../../../../web-components/src/lib/constants.ts","../../../../../web-components/src/lib/types.ts","../../../../../web-components/src/lib/helpers.ts"],"sourcesContent":["import { CollectionType, ProcessingState } from \"./types\";\n\nexport const HtmlStatusCodeRegex = /^[1-5]\\d\\d$/;\n\n// SurtRegex: domain labels separated by commas optionally followed by \")\" or \")/.*\"\nconst ValidLabelChars = \"[a-zA-Z0-9\\\\-]\";\nexport const SurtPrefixRegex = new RegExp(\n  `^${ValidLabelChars}+,${ValidLabelChars}+(${ValidLabelChars}+,?)*((\\\\))|(\\\\)/.*))?$`\n);\n\nexport const BoolDisplayMap: Record<string, string> = {\n  true: \"Yes\",\n  false: \"No\",\n};\n\nexport const EventTypeDisplayMap: Record<ProcessingState, string> = {\n  SUBMITTED: \"Submitted\",\n  QUEUED: \"Queued\",\n  RUNNING: \"Running\",\n  FINISHED: \"Finished\",\n  FAILED: \"Failed\",\n  CANCELLED: \"Cancelled\",\n};\n\nexport const CollectionTypeDisplayMap: Record<CollectionType, string> = {\n  AIT: \"Archive-It\",\n  CUSTOM: \"Custom\",\n  SPECIAL: \"Special\",\n};\n\n// The URL params to use for specifying a single Collection.id value.\nexport const UrlCollectionParamName = \"cid\";\n\n// The URL params to use for specifying an array of Collection.id values.\nexport const UrlCollectionsParamName = \"cid[]\";\n","import { JSONSchemaType } from \"ajv\";\nimport { SomeJSONSchema } from \"ajv/lib/types/json-schema\";\n\nexport { SomeJSONSchema };\n\nimport { ArchJobCard } from \"../archGenerateDatasetForm/src/arch-job-card\";\n\nexport type ValueOf<T> = T[keyof T];\nexport type Modify<T, R> = Omit<T, keyof R> & R;\n\nexport enum ProcessingState {\n  SUBMITTED = \"SUBMITTED\",\n  QUEUED = \"QUEUED\",\n  RUNNING = \"RUNNING\",\n  FINISHED = \"FINISHED\",\n  FAILED = \"FAILED\",\n  CANCELLED = \"CANCELLED\",\n}\n\nexport type AITCollectionMetadata = {\n  is_public?: boolean;\n  num_seeds?: number;\n  last_crawl_date?: Date;\n};\n\nexport type CustomCollectionMetadata = {\n  state: ProcessingState;\n};\n\nexport enum CollectionType {\n  AIT = \"AIT\",\n  SPECIAL = \"SPECIAL\",\n  CUSTOM = \"CUSTOM\",\n}\n\nexport type Collection = {\n  account_id: number;\n  id: number;\n  name: string;\n  collection_type: CollectionType;\n  size_bytes: number;\n  dataset_count: number;\n  latest_dataset: {\n    id: number;\n    name: string;\n    start_time: Date;\n  };\n  metadata: AITCollectionMetadata | CustomCollectionMetadata;\n};\n\nexport type CollectionIdNamePairs = Array<\n  [Collection[\"id\"], Collection[\"name\"]]\n>;\n\nexport interface CollectionSearchResult {\n  organizationId: number;\n  organizationName: string;\n  collectionName: string;\n  collectionId: number;\n  meta_Description?: string;\n  totalWarcBytes: number;\n}\n\nexport interface CollectionCheckboxEventDetail {\n  collectionSize: string;\n  isChecked: boolean;\n  collectionName: string;\n  collectionId: string;\n}\n\nexport interface CollectionSelectedDetail {\n  collectionSize: string;\n  collectionId: string;\n}\n\nexport interface Facets {\n  [key: string]: Array<string | number>;\n}\n\nexport interface FacetResultMap {\n  name: string;\n  count: number;\n}\n\nexport interface CollectionRemovedFromCartDetail {\n  collectionName: string;\n}\n\nexport type Dataset = {\n  category_name: string;\n  collection_id: number;\n  collection_name: string;\n  finished_time: Date;\n  id: number;\n  is_sample: boolean;\n  job_id: string;\n  name: string;\n  start_time: Date;\n  state: ProcessingState;\n};\n\ntype DatasetStartTimeString = string;\n\nexport type JobIdStatesMap = Record<\n  Dataset[\"job_id\"],\n  Array<[Dataset[\"id\"], DatasetStartTimeString, Dataset[\"state\"]]>\n>;\n\nexport enum UserRoles {\n  ADMIN = \"ADMIN\",\n  USER = \"USER\",\n}\n\nexport type User = {\n  id: number;\n  account_id: number;\n  username: string;\n  first_name: string;\n  last_name: string;\n  email: string;\n  role: UserRoles;\n  date_joined: Date;\n  last_login: Date;\n};\n\nexport type UserUpdate = Pick<\n  User,\n  \"first_name\" | \"last_name\" | \"email\" | \"role\"\n>;\n\n// AvailableJob parameters types\n\ntype GlobalJobParameters = {\n  sample: boolean;\n};\n\ntype NamedEntityExtractionParameters = GlobalJobParameters & {\n  language: string;\n};\n\nexport type JobParameters = NamedEntityExtractionParameters;\nexport type JobParametersKey = keyof JobParameters;\nexport type JobParametersValue = JobParameters[JobParametersKey];\n\n// Datasets objects are also used to convey job state.\nexport type JobState = Dataset;\n\nexport enum JobId {\n  ArsLgaGeneration = \"ArsLgaGeneration\",\n  ArsWaneGeneration = \"ArsWaneGeneration\",\n  ArsWatGeneration = \"ArsWatGeneration\",\n  AudioInformationExtraction = \"AudioInformationExtraction\",\n  DomainFrequencyExtraction = \"DomainFrequencyExtraction\",\n  DomainGraphExtraction = \"DomainGraphExtraction\",\n  ImageGraphExtraction = \"ImageGraphExtraction\",\n  ImageInformationExtraction = \"ImageInformationExtraction\",\n  PdfInformationExtraction = \"PdfInformationExtraction\",\n  PresentationProgramInformationExtraction = \"PresentationProgramInformationExtraction\",\n  SpreadsheetInformationExtraction = \"SpreadsheetInformationExtraction\",\n  TextFilesInformationExtraction = \"TextFilesInformationExtraction\",\n  VideoInformationExtraction = \"VideoInformationExtraction\",\n  WebGraphExtraction = \"WebGraphExtraction\",\n  WebPagesExtraction = \"WebPagesExtraction\",\n  WordProcessorInformationExtraction = \"WordProcessorInformationExtraction\",\n}\n\nexport type AvailableJob = {\n  id: JobId;\n  name: string;\n  description: string;\n  parameters_schema: JSONSchemaType<JobParameters>;\n};\n\nexport type AvailableJobsCategory = {\n  categoryName: string;\n  categoryDescription: string;\n  categoryImage: string;\n  categoryId: string;\n  jobs: Array<AvailableJob>;\n};\n\nexport type AvailableJobs = Array<AvailableJobsCategory>;\n\nexport type PublishedDatasetInfoApiResponse = {\n  item: string;\n  source: string;\n  collection: string;\n  job: JobId;\n  complete: boolean;\n  sample: boolean;\n  time: string;\n  ark: string;\n};\n\nexport type PublishedDatasetInfo = Modify<\n  PublishedDatasetInfoApiResponse,\n  {\n    time: Date;\n  }\n>;\n\nexport type PublishedDatasetMetadataApiResponse = {\n  creator?: Array<string>;\n  description?: Array<string>;\n  licenseurl?: Array<string>;\n  subject?: Array<string>;\n  title?: Array<string>;\n};\n\nexport type PublishedDatasetMetadata = {\n  creator?: Array<string>;\n  description?: string;\n  licenseurl?: string;\n  subject?: Array<string>;\n  title?: string;\n};\n\nexport type PublishedDatasetMetadataKey = keyof PublishedDatasetMetadata;\n\nexport type PublishedDatasetMetadataValue =\n  PublishedDatasetMetadata[PublishedDatasetMetadataKey];\n\nexport type PublishedDatasetMetadataJSONSchema =\n  JSONSchemaType<PublishedDatasetMetadata>;\n\nexport type PublishedDatasetMetadataJSONSchemaProps = Record<\n  keyof PublishedDatasetMetadata,\n  SomeJSONSchema\n>;\n\n// API Types\n\nexport type BaseFilteredApiResponse<T> = {\n  count: number;\n  items: T;\n};\n\ntype FilteredApiResults<T> = Array<T>;\n\ntype DistinctApiResults<T> = Array<T[keyof T]>;\n\nexport type FilteredApiResponse<T> = BaseFilteredApiResponse<\n  FilteredApiResults<T>\n>;\n\nexport type DistinctApiResponse<T> = BaseFilteredApiResponse<\n  DistinctApiResults<T>\n>;\n\nexport type ObjectApiResponse<T> = T;\n\nexport type ApiResponse<T> =\n  | FilteredApiResponse<T>\n  | DistinctApiResponse<T>\n  | ObjectApiResponse<T>;\n\nexport class ResponseError extends Error {\n  constructor(public response: Response, msg?: string) {\n    super(msg);\n  }\n}\n\ntype ApiParamOp = \"=\" | \"!=\";\n\ntype ApiFilterKey = \"distinct\" | \"limit\" | \"offset\" | \"search\" | \"sort\";\n\nexport type ApiParams<T> = Array<\n  [keyof T | ApiFilterKey, ApiParamOp, string | number | boolean]\n>;\n\n// Custom Events\n\nexport type GenerateDatasetDetail = {\n  archJobCard: ArchJobCard;\n};\n\nexport type GlobalModalDetail = {\n  elementToFocusOnClose: HTMLElement;\n  title: string;\n  message: string;\n};\n","export * from \"./webservices/src/lib/helpers\";\n\nimport { UrlCollectionParamName, UrlCollectionsParamName } from \"./constants\";\nimport { Collection, Dataset, ProcessingState } from \"./types\";\n\nexport const identity = <T>(x: T) => x;\n\nexport const Paths = {\n  collection: (id: Collection[\"id\"]) => `/collections/${id}`,\n\n  collections: `/collections`,\n\n  dataset: (id: Dataset[\"id\"]) => `/datasets/${id}`,\n\n  datasets: `/datasets`,\n\n  generateCollectionDataset: (collectionId: Collection[\"id\"]) =>\n    `/datasets/generate?${UrlCollectionParamName}=${collectionId}`,\n\n  buildSubCollection: (sourceCollectionIds?: Array<Collection[\"id\"]>) =>\n    sourceCollectionIds === undefined\n      ? \"/collections/custom-collection-builder\"\n      : `/collections/custom-collection-builder?${sourceCollectionIds\n          .map((x) => `${UrlCollectionsParamName}=${x}`)\n          .join(\"&\")}`,\n};\n\nexport function isActiveProcessingState(state: ProcessingState): boolean {\n  return (\n    state === ProcessingState.SUBMITTED ||\n    state === ProcessingState.QUEUED ||\n    state === ProcessingState.RUNNING\n  );\n}\n"],"names":["HtmlStatusCodeRegex","ValidLabelChars","SurtPrefixRegex","RegExp","BoolDisplayMap","true","false","EventTypeDisplayMap","SUBMITTED","QUEUED","RUNNING","FINISHED","FAILED","CANCELLED","CollectionTypeDisplayMap","AIT","CUSTOM","SPECIAL","UrlCollectionParamName","UrlCollectionsParamName","ProcessingState","CollectionType","UserRoles","JobId","ResponseError","Error","constructor","response","msg","super","this","identity","x","Paths","collection","id","collections","dataset","datasets","generateCollectionDataset","collectionId","buildSubCollection","sourceCollectionIds","undefined","map","join","isActiveProcessingState","state"],"mappings":"AAEO,MAAMA,EAAsB,cAG7BC,EAAkB,iBACXC,EAAkB,IAAIC,OACjC,IAAIF,MAAoBA,MAAoBA,4BAGjCG,EAAyC,CACpDC,KAAM,MACNC,MAAO,MAGIC,EAAuD,CAClEC,UAAW,YACXC,OAAQ,SACRC,QAAS,UACTC,SAAU,WACVC,OAAQ,SACRC,UAAW,aAGAC,EAA2D,CACtEC,IAAK,aACLC,OAAQ,SACRC,QAAS,WAIEC,EAAyB,MAGzBC,EAA0B,YCxB3BC,EAmBAC,EA+EAC,EAuCAC,GAzIZ,SAAYH,GACVA,EAAA,UAAA,YACAA,EAAA,OAAA,SACAA,EAAA,QAAA,UACAA,EAAA,SAAA,WACAA,EAAA,OAAA,SACAA,EAAA,UAAA,WACD,CAPD,CAAYA,IAAAA,EAOX,CAAA,IAYD,SAAYC,GACVA,EAAA,IAAA,MACAA,EAAA,QAAA,UACAA,EAAA,OAAA,QACD,CAJD,CAAYA,IAAAA,EAIX,CAAA,IA2ED,SAAYC,GACVA,EAAA,MAAA,QACAA,EAAA,KAAA,MACD,CAHD,CAAYA,IAAAA,EAGX,CAAA,IAoCD,SAAYC,GACVA,EAAA,iBAAA,mBACAA,EAAA,kBAAA,oBACAA,EAAA,iBAAA,mBACAA,EAAA,2BAAA,6BACAA,EAAA,0BAAA,4BACAA,EAAA,sBAAA,wBACAA,EAAA,qBAAA,uBACAA,EAAA,2BAAA,6BACAA,EAAA,yBAAA,2BACAA,EAAA,yCAAA,2CACAA,EAAA,iCAAA,mCACAA,EAAA,+BAAA,iCACAA,EAAA,2BAAA,6BACAA,EAAA,mBAAA,qBACAA,EAAA,mBAAA,qBACAA,EAAA,mCAAA,oCACD,CAjBD,CAAYA,IAAAA,EAiBX,CAAA,IA4FK,MAAOC,UAAsBC,MACjCC,YAAmBC,EAAoBC,GACrCC,MAAMD,GADWE,KAAQH,SAARA,CAElB,EC9PU,MAAAI,EAAeC,GAASA,EAExBC,EAAQ,CACnBC,WAAaC,GAAyB,gBAAgBA,IAEtDC,YAAa,eAEbC,QAAUF,GAAsB,aAAaA,IAE7CG,SAAU,YAEVC,0BAA4BC,GAC1B,0BAAgDA,IAElDC,mBAAqBC,QACKC,IAAxBD,EACI,yCACA,0CAA0CA,EACvCE,KAAKZ,GAAM,GAAGb,KAA2Ba,MACzCa,KAAK,QAGV,SAAUC,EAAwBC,GACtC,OACEA,IAAU3B,EAAgBZ,WAC1BuC,IAAU3B,EAAgBX,QAC1BsC,IAAU3B,EAAgBV,OAE9B"}