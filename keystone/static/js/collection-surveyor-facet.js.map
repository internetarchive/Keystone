{"version":3,"file":"collection-surveyor-facet.js","sources":["../../../../../web-components/src/collectionSurveyorFacet/src/collection-surveyor-facet.ts"],"sourcesContent":["import { html, css, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\nimport { FacetResultMap } from \"../../lib/types\";\n\n@customElement(\"collection-surveyor-facet\")\nexport class CollectionSurveyorFacet extends LitElement {\n  @property({ type: String }) facetField = \"\";\n\n  @property({ type: Array }) facetFieldResults: FacetResultMap[] = [];\n\n  readableFacetFieldName(text: string) {\n    // convert field name into a more readable form - eg. 'f_organizationName' --> 'Organization Name'\n\n    const camelCasefield = text.split(\"_\")[1]; // remove 'f_' prefix\n    const fieldNameWordsSeparated = camelCasefield.split(/(?=[A-Z])/); // split on capital letter\n\n    return fieldNameWordsSeparated\n      .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(\" \"); // capitalize each word and join with spaces\n  }\n\n  render() {\n    return html`\n      <div class=\"facet\">\n        <h3>${this.readableFacetFieldName(this.facetField)}</h3>\n        <hr />\n        <div class=\"facetResults\">\n          <ul>\n            ${this.facetFieldResults.map(\n              (facetFieldResult) => html`\n                <li>${facetFieldResult.name} (${facetFieldResult.count})</li>\n              `\n            )}\n          </ul>\n        </div>\n      </div>\n    `;\n  }\n\n  static styles = css`\n    .facet {\n      border-radius: 6px;\n      background-color: rgb(255, 255, 255);\n      box-shadow: rgb(136, 136, 136) 1px 1px 6px;\n      padding: 10px;\n      margin-bottom: 15px;\n    }\n\n    .facetResults {\n      max-height: 300px;\n      overflow-y: auto;\n    }\n\n    ul {\n      list-style-type: none;\n      padding: 0;\n      margin: 0;\n    }\n\n    li {\n      margin: 0.2em 0 0.2em 0;\n    }\n  `;\n}\n"],"names":["CollectionSurveyorFacet","LitElement","constructor","this","facetField","facetFieldResults","readableFacetFieldName","text","split","map","word","charAt","toUpperCase","slice","join","render","html","facetFieldResult","name","count","styles","css","__decorate","property","type","String","prototype","Array","customElement"],"mappings":"8EAMO,IAAMA,EAAN,cAAsCC,EAAtCC,kCACuBC,KAAUC,WAAG,GAEdD,KAAiBE,kBAAqB,EAuDlE,CArDCC,uBAAuBC,GAMrB,OAHuBA,EAAKC,MAAM,KAAK,GACQA,MAAM,aAGlDC,KAAKC,GAASA,EAAKC,OAAO,GAAGC,cAAgBF,EAAKG,MAAM,KACxDC,KAAK,IACT,CAEDC,SACE,OAAOC,CAAI;;cAEDb,KAAKG,uBAAuBH,KAAKC;;;;cAIjCD,KAAKE,kBAAkBI,KACtBQ,GAAqBD,CAAI;sBAClBC,EAAiBC,SAASD,EAAiBE;;;;;KAO9D,GAEMnB,EAAMoB,OAAGC,CAAG;;;;;;;;;;;;;;;;;;;;;;;IAjCSC,EAAA,CAA3BC,EAAS,CAAEC,KAAMC,UAA0BzB,EAAA0B,UAAA,kBAAA,GAEjBJ,EAAA,CAA1BC,EAAS,CAAEC,KAAMG,SAAkD3B,EAAA0B,UAAA,yBAAA,GAHzD1B,EAAuBsB,EAAA,CADnCM,EAAc,8BACF5B"}