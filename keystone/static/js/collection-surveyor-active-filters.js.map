{"version":3,"file":"collection-surveyor-active-filters.js","sources":["../../../../../web-components/src/collectionSurveyorActiveFilters/src/collection-surveyor-active-filters.ts"],"sourcesContent":["import { html, css, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\nimport { SelectedFacets } from \"../../lib/types\";\nimport { EventHelpers } from \"@internetarchive/ads-library\";\nimport { readableFacetName } from \"../../lib/helpers\";\n\n@customElement(\"collection-surveyor-active-filters\")\nexport class CollectionSurveyorActiveFilters extends LitElement {\n  @property({ type: Object })\n  activeFilters: SelectedFacets = {\n    f_organizationName: [],\n    f_organizationType: [],\n  };\n\n  handleRemoveActiveFilter(facetFieldName: string, facetName: string) {\n    this.emitEvent(\"facet-deselected\", {\n      facetFieldName: facetFieldName,\n      facetName: facetName,\n    });\n  }\n\n  private emitEvent(eventName: string, detail = {}) {\n    this.dispatchEvent(\n      EventHelpers.createEvent(eventName, detail ? { detail } : {})\n    );\n  }\n\n  readableFacetFieldName(text: string) {\n    // convert field name into a more readable form - eg. 'f_organizationName' --> 'Organization Name'\n\n    const camelCasefield = text.split(\"_\")[1]; // remove 'f_' prefix\n    const fieldNameWordsSeparated = camelCasefield.split(/(?=[A-Z])/); // split on capital letter\n\n    return fieldNameWordsSeparated\n      .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(\" \"); // capitalize each word and join with spaces\n  }\n\n  render() {\n    return html`\n      <div class=\"active-filters\">\n        <h4>Active Filters:</h4>\n        <ul>\n          ${Object.entries(this.activeFilters).map(\n            ([facetFieldName, facetValues]: [string, string[]]) =>\n              html` ${facetValues.length > 0\n                ? html`\n                    ${facetValues.map(\n                      (facetValue) => html`\n                        <li>\n                          <strong\n                            >${this.readableFacetFieldName(\n                              facetFieldName\n                            )}:</strong\n                          >\n                          ${readableFacetName(facetValue, facetFieldName)}\n                          <button\n                            @click=${() =>\n                              this.handleRemoveActiveFilter(\n                                facetFieldName,\n                                facetValue\n                              )}\n                          >\n                            remove\n                          </button>\n                        </li>\n                      `\n                    )}\n                  `\n                : \"\"}`\n          )}\n        </ul>\n      </div>\n    `;\n  }\n\n  static styles = css`\n    .active-filters {\n      padding: 0px 0px 30px 0px;\n    }\n\n    button {\n      background: none;\n      border: none;\n      cursor: pointer;\n      color: red;\n    }\n  `;\n}\n"],"names":["CollectionSurveyorActiveFilters","LitElement","constructor","this","activeFilters","f_organizationName","f_organizationType","handleRemoveActiveFilter","facetFieldName","facetName","emitEvent","eventName","detail","dispatchEvent","EventHelpers","createEvent","readableFacetFieldName","text","split","map","word","charAt","toUpperCase","slice","join","render","html","Object","entries","facetValues","length","facetValue","readableFacetName","styles","css","__decorate","property","type","prototype","customElement"],"mappings":"0JAOO,IAAMA,EAAN,cAA8CC,EAA9CC,kCAELC,KAAAC,cAAgC,CAC9BC,mBAAoB,GACpBC,mBAAoB,GA6EvB,CA1ECC,yBAAyBC,EAAwBC,GAC/CN,KAAKO,UAAU,mBAAoB,CACjCF,eAAgBA,EAChBC,UAAWA,GAEd,CAEOC,UAAUC,EAAmBC,EAAS,IAC5CT,KAAKU,cACHC,EAAaC,YAAYJ,EAAWC,EAAS,CAAEA,UAAW,CAAE,GAE/D,CAEDI,uBAAuBC,GAMrB,OAHuBA,EAAKC,MAAM,KAAK,GACQA,MAAM,aAGlDC,KAAKC,GAASA,EAAKC,OAAO,GAAGC,cAAgBF,EAAKG,MAAM,KACxDC,KAAK,IACT,CAEDC,SACE,OAAOC,CAAI;;;;YAIHC,OAAOC,QAAQzB,KAAKC,eAAee,KACnC,EAAEX,EAAgBqB,KAChBH,CAAI,IAAIG,EAAYC,OAAS,EACzBJ,CAAI;sBACAG,EAAYV,KACXY,GAAeL,CAAI;;;+BAGXvB,KAAKa,uBACNR;;4BAGFwB,EAAkBD,EAAYvB;;qCAErB,IACPL,KAAKI,yBACHC,EACAuB;;;;;;oBASd;;;KAKf,GAEM/B,EAAMiC,OAAGC,CAAG;;;;;;;;;;;IAnEnBC,EAAA,CADCC,EAAS,CAAEC,KAAMV,UAIhB3B,EAAAsC,UAAA,qBAAA,GALStC,EAA+BmC,EAAA,CAD3CI,EAAc,uCACFvC"}